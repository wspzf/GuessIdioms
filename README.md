# 看图猜成语插件

## 📝 插件介绍

这是一个为 xxxbot-pad 开发的看图猜成语插件，通过显示成语相关的图片，让群成员猜测对应的成语。游戏支持多轮进行，并提供自动提示功能，增加游戏的趣味性和互动性。

## ✨ 主要功能

- 🖼 **看图猜成语**：根据显示的图片猜测对应的成语
- 🔢 **多轮游戏**：每场游戏包含多轮，连续进行
- 🔄 **自动提示**：系统会在固定时间间隔后自动提示成语中的某个字，提示两次
- 🌟 **积分排名**：游戏结束后根据答对题目数量排名，并按排名发放积分奖励
- 👤 **智能昵称显示**：利用contacts.db数据库自动识别用户昵称，提升游戏互动体验

## 🚀 使用方法

1. 在群聊中发送以下任一命令启动游戏：
   - `看图猜成语`
   - `成语猜猜`
   - `猜成语`

2. 机器人会自动开始游戏，并发送第一张成语图片
3. 群成员可以直接在群里发送猜测的成语
4. 如果一段时间内没有人猜对，系统会自动提供提示
5. 游戏结束后会显示排名和积分奖励情况

## ⚙️ 配置说明

配置文件位于 `plugins/GuessIdioms/config.toml`，主要配置项包括：

```toml
[GuessIdioms]
# 插件基本设置
enable = true  # 是否启用插件
commands = ["看图猜成语", "成语猜猜", "猜成语"]  # 触发游戏的命令
command-tip = "发送\"看图猜成语\"开始游戏"  # 命令提示

# 游戏设置
rounds-per-game = 5  # 每局游戏轮数
initial-wait-time = 10  # 开始等待时间(秒)
hint-interval = 15  # 提示间隔时间(秒)
max-hints = 2  # 最大提示次数
round-timeout = 60  # 每轮最长时间(秒)

# API设置
api-url = "https://xiaoapi.cn/API/game_ktccy.php"  # API地址
token = ""  # API令牌(如需要)

# 调试设置
debug-mode = false  # 调试模式

# 积分设置
base-points = 5  # 每题基础积分
bonus-points = [0, 0, 0]  # 排名奖励积分
```

## 🔄 依赖关系

- **积分系统**：需要 XYBotDB 支持积分奖励功能
- **昵称显示**：使用 contacts.db 数据库获取用户昵称显示

## 📊 API接口说明

插件使用以下API接口获取成语图片：

```
https://xiaoapi.cn/API/game_ktccy.php?msg=开始游戏&id=群ID
```

参数说明：
- `msg`：操作类型，可为"开始游戏"
- `id`：群聊ID，用于区分不同群的游戏会话

返回格式：
```json
{
  "code": 200,
  "data": {
    "msg": "游戏开始啦，请看图！",
    "pic": "http://example.com/image.jpg",
    "answer": "金屋藏娇"
  },
  "tips": "API提示信息"
}
```

## 🛠️ 版本信息

- **版本**：1.0.0
- **开发者**：wspzf 